<head></head>

<body>
 
  <div class="topnav">
    <a class="active" href="#home"><i class="fa fa-fw fa-home"></i> Home</a>
    <a href="/ng-wizard">Wizard page</a>
  </div>
  <div class="sidebar">
    <!-- <header>My App</header> -->
    <a href="/home"><i class="home"></i> Home</a>
    <a href="/ng-wizard"><i class="home"></i> Wizard</a>
    <a href="/opportunitylist"><i class="home"></i> Opportunitylist</a>
  </div>
    <div class="main">
  <ng-wizard [config]="config" (stepChanged)="stepChanged($event)">
    <ng-wizard-step [title]="'Step 1'" [description]="'OpportunityList'">
      <div class='list-items'>
        <mat-progress-spinner diameter=50 style="margin:100px auto;" mode="indeterminate" *ngIf="Showloader === true">
        </mat-progress-spinner>
        <div class="card" *ngIf="OpportunityList?OpportunityList.length>0:''">
          <div class="card-body">
            <div id="table" class="table-editable">
              <table class="table table-bordered table-responsive-md table-striped">
                <tr>
                  <th class="text-center">Opportunity Id</th>
                  <th class="text-center">Opportunity Name</th>
                  <th class="text-center">Department Type</th>
                </tr>
                <tr *ngFor="let ol of OpportunityList">
                  <td>
                    <span>{{ol.id}}</span>
                  </td>
                  <td>
                    <span>{{ol.name}}</span>
                  </td>
                  <td>
                    <span>{{ol.dep_Type__c?ol.dep_Type__c:"NA"}}</span>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>

    </ng-wizard-step>
    <ng-wizard-step [title]="'Step 2'" [description]="'Question&Answer'" [canEnter]="isValidTypeBoolean"
      [canExit]="isValidFunctionReturnsBoolean.bind(this)">
      <mat-form-field appearance="fill">
        <label>Department Type</label>
        <select matNativeControl (change)="changedepartmenttype($event)">
          <option>Select</option>
          <option *ngFor="let dt of OpportunityFieldList" [value]="dt.dep_Type__c">
            {{dt.dep_Type__c}}
          </option>
        </select>
      </mat-form-field>
      <div class="overlay">
        <div class="center">
          <mat-progress-spinner diameter=50 style="margin:0 auto;" mode="indeterminate" color="accent"
            *ngIf="Showloader === true">
          </mat-progress-spinner>
        </div>
      </div>
      <form [formGroup]="myForm" (ngSubmit)="Submit()">
        <div class="form-control" *ngIf="SmartsheetList?SmartsheetList.length>0:''">
          <div class="required">
            <label><span style="color: red;">*</span>indicates required</label>
          </div>
          <div *ngFor="let formField of formFields;let i = index" class="form-group">
            <label *ngIf="!formField.visible" style="font-weight: bold;">{{ formField.question }} <span
                *ngIf="formField.isRequired" style="color: red;">*</span></label>
            <br>
            <div *ngIf="!formField.visible && formField.fieldType=='TextBox'?Showtextbox:''">
              <input class="form-control" type="{{ formField.fieldType }}" [required]="formField.isRequired"
                formControlName="{{ formField.fieldType+formField.no }}" ngModel />
              <br>
            </div>
            <div *ngIf="!formField.visible && formField.fieldType=='Checkbox'?Showcheckbox:''">
              <mat-radio-group ngModel formControlName="{{ formField.fieldType+formField.no }}"
                [required]="formField.isRequired">
                <mat-radio-button value="yes">Yes</mat-radio-button>
                <mat-radio-button value="no">No</mat-radio-button>
              </mat-radio-group>
              <br>
            </div>
            <div *ngIf="!formField.visible && formField.fieldType=='OptionList'?Showlist:''">
              <mat-form-field appearance="fill">
                <label>Education Level</label>
                <select matNativeControl ngModel formControlName="{{ formField.fieldType+formField.no }}"
                  [required]="formField.isRequired">
                  <option value="-1">Select</option>
                  <option *ngFor="let item of formField.fieldValues.split(',')" [value]="item">
                    {{item}}
                  </option>
                </select>
              </mat-form-field>
              <br>
            </div>
            <div *ngIf="!formField.visible && formField.fieldType=='DateTimePicker'?Showdatetimepicker:''">
              <mat-form-field appearance="fill">
                <mat-label>Choose a date</mat-label>
                <input matInput [matDatepicker]="picker" ngModel
                  formControlName="{{ formField.fieldType+formField.no }}">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
              <br>
            </div>
          </div>
          <button type="submit" class="btn btn-primary" [disabled]="this.myForm.invalid">Submit</button>
        </div>
      </form>

    </ng-wizard-step>

    <ng-wizard-step [title]="'Step 3'" [description]="'Preview Section'" [canEnter]="isValidTypeBoolean">
      <div class="card" *ngIf="Previewanswerdata?Previewanswerdata.length>0:''">
        <div class="card-body">
          <div>
            <tr *ngFor="let ol of Previewanswerdata">
              <ng-container *ngIf="!ol.Visible">
                <div>
                  <span style="font-weight: bold;">{{ol.Question}}</span>
                  <br>
                </div>
                <div *ngIf="ol.FieldType=='TextBox'">
                  <span>{{ol.Answer?ol.Answer:'NA'}}</span>
                  <br>
                </div>
                <div *ngIf="ol.FieldType=='Checkbox'">
                  <span>{{ol.Answer?ol.Answer:'NA'}}</span>
                  <br>
                </div>
                <div *ngIf="ol.FieldType=='OptionList'">
                  <span>{{ol.Answer?ol.Answer:'NA'}}</span>
                  <br>
                </div>
                <div *ngIf="ol.FieldType=='DateTimePicker'?Showdatetimepicker:''">
                  <span>{{ol.Answer | date:'MM-dd-yyyy'}}</span>
                  <br>
                </div>
              </ng-container>
            </tr>

          </div>

          <!-- <button type="submit" class="btn btn-primary" [disabled]="!myForm.valid">Submit</button> -->
          <!-- <input class="submit" type="button" value="Submit" (click)="Submit()"> -->
          <!-- <input class="submit" type="button" value="Submit" [disabled]="!myForm.valid" (click)="Submit()"> -->

        </div>
      </div>
    </ng-wizard-step>

    <ng-wizard-step [title]="'Step 4'" [description]="'Completed'"
      [canEnter]="isValidFunctionReturnsObservable.bind(this)" [canExit]="isValidFunctionReturnsBoolean.bind(this)">
      <h3>
        <p>You are successully submitted your answers!!!</p>
      </h3>
    </ng-wizard-step>

  </ng-wizard>
</div>
</body>